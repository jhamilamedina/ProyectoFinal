{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./Perfil.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Perfil(_ref){let{userName,setUserName,setUserEmail,setFotoPerfil}=_ref;const[nombre,setNombre]=useState('');const[usuario,setUsuario]=useState('');const[correo,setCorreo]=useState('');const[foto,setFoto]=useState('/ruta/imagen/default.jpg');const[isEditing,setIsEditing]=useState(false);const navigate=useNavigate();useEffect(()=>{if(userName){setNombre(userName);const generatedUsername=\"@\".concat(userName.split(' ').join('').toLowerCase());setUsuario(generatedUsername);const generatedEmail=\"\".concat(userName.split(' ').join('').toLowerCase(),\"@correo.com\");setCorreo(generatedEmail);}},[userName]);const handlePhotoUpload=e=>{const file=e.target.files[0];const reader=new FileReader();reader.onloadend=()=>{setFoto(reader.result);};if(file){reader.readAsDataURL(file);}};const handleButtonClick=()=>{navigate('/home');};const handleEditClick=()=>{setIsEditing(true);};const handleSaveClick=()=>{setIsEditing(false);};const handleInputChange=e=>{const{name,value}=e.target;if(name==='nombre'){setNombre(value);}else if(name==='usuario'){setUsuario(value);}else if(name==='correo'){setCorreo(value);}};const handleDeleteAccount=()=>{navigate('/eliminar-cuenta',{state:{nombre,usuario}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"perfil-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"perfil-header\",children:[\"Bienvenido \",nombre.split(' ')[0]]}),/*#__PURE__*/_jsxs(\"div\",{className:\"perfil-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:foto,alt:\"Foto de perfil\",className:\"perfil-foto\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"perfil-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Usuario: \",usuario]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handlePhotoUpload})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"perfil-enlaces\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/datos\",className:\"perfil-enlace\",children:\"Mis datos\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Nombre:\",isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombre\",value:nombre,onChange:handleInputChange}):/*#__PURE__*/_jsx(\"span\",{children:nombre}),isEditing?/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveClick,children:\"Guardar\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleEditClick,className:\"perfil-enlace-button\",children:\"Modificar\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Usuario:\",isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"usuario\",value:usuario,onChange:handleInputChange}):/*#__PURE__*/_jsx(\"span\",{children:usuario}),isEditing?/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveClick,children:\"Guardar\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleEditClick,className:\"perfil-enlace-button\",children:\"Modificar\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Correo:\",isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"correo\",value:correo,onChange:handleInputChange}):/*#__PURE__*/_jsx(\"span\",{children:correo}),isEditing?/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveClick,children:\"Guardar\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleEditClick,className:\"perfil-enlace-button\",children:\"Modificar\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"eliminar-cuenta-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteAccount,className:\"eliminar-cuenta-boton\",children:\"Eliminar mi cuenta\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"perfil-boton-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\xA1Quiero buscar empresas de env\\xEDo!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleButtonClick,className:\"perfil-boton\",children:\"INGRESA AQU\\xCD\"})]})]});}export default Perfil;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxs","_jsxs","jsx","_jsx","Perfil","_ref","userName","setUserName","setUserEmail","setFotoPerfil","nombre","setNombre","usuario","setUsuario","correo","setCorreo","foto","setFoto","isEditing","setIsEditing","navigate","generatedUsername","concat","split","join","toLowerCase","generatedEmail","handlePhotoUpload","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleButtonClick","handleEditClick","handleSaveClick","handleInputChange","name","value","handleDeleteAccount","state","className","children","src","alt","type","accept","onChange","href","onClick"],"sources":["/home/maly/repositorios/Proyecto_Envia_Ya/frontend/envia-ya/src/components/Perfil.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Perfil.css';\n\nfunction Perfil({ userName, setUserName, setUserEmail, setFotoPerfil }) {\n  const [nombre, setNombre] = useState('');\n  const [usuario, setUsuario] = useState('');\n  const [correo, setCorreo] = useState('');\n  const [foto, setFoto] = useState('/ruta/imagen/default.jpg');\n  const [isEditing, setIsEditing] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (userName) {\n      setNombre(userName);\n      const generatedUsername = `@${userName.split(' ').join('').toLowerCase()}`;\n      setUsuario(generatedUsername);\n      const generatedEmail = `${userName.split(' ').join('').toLowerCase()}@correo.com`;\n      setCorreo(generatedEmail);\n    }\n  }, [userName]);\n\n  const handlePhotoUpload = (e) => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      setFoto(reader.result);\n    };\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleButtonClick = () => {\n    navigate('/home');\n  };\n\n  const handleEditClick = () => {\n    setIsEditing(true);\n  };\n\n  const handleSaveClick = () => {\n    setIsEditing(false);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    if (name === 'nombre') {\n      setNombre(value);\n    } else if (name === 'usuario') {\n      setUsuario(value);\n    } else if (name === 'correo') {\n      setCorreo(value);\n    }\n  };\n\n  const handleDeleteAccount = () => {\n    navigate('/eliminar-cuenta', {\n      state: { nombre, usuario },\n    });\n  };\n\n  return (\n    <div className=\"perfil-container\">\n      <h1 className=\"perfil-header\">Bienvenido {nombre.split(' ')[0]}</h1>\n      <div className=\"perfil-content\">\n        <img src={foto} alt=\"Foto de perfil\" className=\"perfil-foto\" />\n        <div className=\"perfil-info\">\n          <p>Usuario: {usuario}</p>\n          <input type=\"file\" accept=\"image/*\" onChange={handlePhotoUpload} />\n        </div>\n      </div>\n      <div className=\"perfil-enlaces\">\n        <a href=\"/datos\" className=\"perfil-enlace\">Mis datos</a>\n        <p>\n          Nombre: \n          {isEditing ? (\n            <input\n              type=\"text\"\n              name=\"nombre\"\n              value={nombre}\n              onChange={handleInputChange}\n            />\n          ) : (\n            <span>{nombre}</span>\n          )}\n          {isEditing ? (\n            <button onClick={handleSaveClick}>Guardar</button>\n          ) : (\n            <button onClick={handleEditClick} className=\"perfil-enlace-button\">Modificar</button>\n          )}\n        </p>\n        <p>\n          Usuario: \n          {isEditing ? (\n            <input\n              type=\"text\"\n              name=\"usuario\"\n              value={usuario}\n              onChange={handleInputChange}\n            />\n          ) : (\n            <span>{usuario}</span>\n          )}\n          {isEditing ? (\n            <button onClick={handleSaveClick}>Guardar</button>\n          ) : (\n            <button onClick={handleEditClick} className=\"perfil-enlace-button\">Modificar</button>\n          )}\n        </p>\n        <p>\n          Correo: \n          {isEditing ? (\n            <input\n              type=\"email\"\n              name=\"correo\"\n              value={correo}\n              onChange={handleInputChange}\n            />\n          ) : (\n            <span>{correo}</span>\n          )}\n          {isEditing ? (\n            <button onClick={handleSaveClick}>Guardar</button>\n          ) : (\n            <button onClick={handleEditClick} className=\"perfil-enlace-button\">Modificar</button>\n          )}\n        </p>\n      </div>\n      <div className=\"eliminar-cuenta-container\">\n        <button onClick={handleDeleteAccount} className=\"eliminar-cuenta-boton\">\n          Eliminar mi cuenta\n        </button>\n      </div>\n      <div className=\"perfil-boton-container\">\n        <h2>¡Quiero buscar empresas de envío!</h2>\n        <button onClick={handleButtonClick} className=\"perfil-boton\">\n          INGRESA AQUÍ\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Perfil;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}